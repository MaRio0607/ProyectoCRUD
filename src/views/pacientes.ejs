<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Nodejs Mysql CRUD</title>
    <!-- NAVIGATION -->
    <link rel="stylesheet" href="https://bootswatch.com/4/lux/bootstrap.min.css">
    <link rel="stylesheet" href="css/home.css">
    <link rel="stylesheet" href="css/menu.css">
  </head>
  <body>

    <!-- navigation -->
    <div class="header">

      <!--Content before waves-->
      <div class="inner-header flex">
      <!--Just the logo.. Don't mind this-->
      <svg version="1.1" class="logo" baseProfile="tiny" id="Layer_1" xmlns="http://www.w3.org/2000/svg"
      xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 500 500" xml:space="preserve">
      <path fill="#FFFFFF" stroke="#000000" stroke-width="10" stroke-miterlimit="10" d="M57,283" />
      <g><path fill="#fff"
      d="M250.4,0.8C112.7,0.8,1,112.4,1,250.2c0,137.7,111.7,249.4,249.4,249.4c137.7,0,249.4-111.7,249.4-249.4
      C499.8,112.4,388.1,0.8,250.4,0.8z M383.8,326.3c-62,0-101.4-14.1-117.6-46.3c-17.1-34.1-2.3-75.4,13.2-104.1
      c-22.4,3-38.4,9.2-47.8,18.3c-11.2,10.9-13.6,26.7-16.3,45c-3.1,20.8-6.6,44.4-25.3,62.4c-19.8,19.1-51.6,26.9-100.2,24.6l1.8-39.7		c35.9,1.6,59.7-2.9,70.8-13.6c8.9-8.6,11.1-22.9,13.5-39.6c6.3-42,14.8-99.4,141.4-99.4h41L333,166c-12.6,16-45.4,68.2-31.2,96.2	c9.2,18.3,41.5,25.6,91.2,24.2l1.1,39.8C390.5,326.2,387.1,326.3,383.8,326.3z" />
      </g>
      </svg>
      <h1>Casa Tlatoani</h1>
      </div>
    
      <menu class="menu">
        
        <button class="menu__item " style="--bgColorItem: #ff8c00;" >
          <a href="/">
            <svg class="icon" viewBox="0 0 24 24">
              <path d="M3.8,6.6h16.4"/>
              <path d="M20.2,12.1H3.8"/>
              <path d="M3.8,17.5h16.4"/>
            </svg>
            </a>
        </button>
    
        <button class="menu__item" style="--bgColorItem: #f54888;">
          <a href="/empleado">
          <svg class="icon" viewBox="0 0 24 24">
            <path  d="M6.7,4.8h10.7c0.3,0,0.6,0.2,0.7,0.5l2.8,7.3c0,0.1,0,0.2,0,0.3v5.6c0,0.4-0.4,0.8-0.8,0.8H3.8
            C3.4,19.3,3,19,3,18.5v-5.6c0-0.1,0-0.2,0.1-0.3L6,5.3C6.1,5,6.4,4.8,6.7,4.8z"/>
            <path  d="M3.4,12.9H8l1.6,2.8h4.9l1.5-2.8h4.6"/>
          </svg>
        </a>
        </button>
    
        <button class="menu__item active" style="--bgColorItem: #4343f5;" >
          <a href="/paciente">
          <svg class="icon" viewBox="0 0 24 24">
          <path  d="M3.4,11.9l8.8,4.4l8.4-4.4"/>
          <path  d="M3.4,16.2l8.8,4.5l8.4-4.5"/>
          <path  d="M3.7,7.8l8.6-4.5l8,4.5l-8,4.3L3.7,7.8z"/>
          </svg>
          </a>
        </button>
    
        <button class="menu__item" style="--bgColorItem: #e0b115;" > 
          <a href="/instructor">
          <svg class="icon" viewBox="0 0 24 24" >
            <path  d="M5.1,3.9h13.9c0.6,0,1.2,0.5,1.2,1.2v13.9c0,0.6-0.5,1.2-1.2,1.2H5.1c-0.6,0-1.2-0.5-1.2-1.2V5.1
              C3.9,4.4,4.4,3.9,5.1,3.9z"/>
            <path  d="M4.2,9.3h15.6"/>
            <path  d="M9.1,9.5v10.3"/>
          </svg>
          </a>
        </button>
    
        <button class="menu__item" style="--bgColorItem:#65ddb7;">
          <a href="/actividad">
          <svg class="icon" viewBox="0 0 24 24" >
            <path  d="M5.1,3.9h13.9c0.6,0,1.2,0.5,1.2,1.2v13.9c0,0.6-0.5,1.2-1.2,1.2H5.1c-0.6,0-1.2-0.5-1.2-1.2V5.1
              C3.9,4.4,4.4,3.9,5.1,3.9z"/>
            <path  d="M5.5,20l9.9-9.9l4.7,4.7"/>
            <path  d="M10.4,8.8c0,0.9-0.7,1.6-1.6,1.6c-0.9,0-1.6-0.7-1.6-1.6C7.3,8,8,7.3,8.9,7.3C9.7,7.3,10.4,8,10.4,8.8z"/>
          </svg>
          </a>
        </button>
    
        <div class="menu__border"></div>
    
      </menu>
    
      <div class="svg-container">
       
        <svg viewBox="0 0 202.9 45.5" >
          <clipPath id="menu" clipPathUnits="objectBoundingBox" transform="scale(0.0049285362247413 0.021978021978022)">
            <path  d="M6.7,45.5c5.7,0.1,14.1-0.4,23.3-4c5.7-2.3,9.9-5,18.1-10.5c10.7-7.1,11.8-9.2,20.6-14.3c5-2.9,9.2-5.2,15.2-7
              c7.1-2.1,13.3-2.3,17.6-2.1c4.2-0.2,10.5,0.1,17.6,2.1c6.1,1.8,10.2,4.1,15.2,7c8.8,5,9.9,7.1,20.6,14.3c8.3,5.5,12.4,8.2,18.1,10.5
              c9.2,3.6,17.6,4.2,23.3,4H6.7z"/>
          </clipPath>
        </svg>
      </div>
      
      <!--Waves Container-->
      <div>
      <svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
      viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto">
      <defs>
      <path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z" />
      </defs>
      <g class="parallax">
      <use xlink:href="#gentle-wave" x="48" y="0" fill="rgba(255,255,255,0.7" />
      <use xlink:href="#gentle-wave" x="48" y="3" fill="rgba(255,255,255,0.5)" />
      <use xlink:href="#gentle-wave" x="48" y="5" fill="rgba(255,255,255,0.3)" />
      <use xlink:href="#gentle-wave" x="48" y="7" fill="#fff" />
      </g>
      </svg>
      </div>
      <!--Waves end-->
      
      </div>
      <!--Header ends-->

    <h1 style="text-align:center">Paciente</h1>
    <form action="/buscarpaciente" method="POST">
      <div class="container mt-5">
        <label for="site-search">Buscar Paciente:</label>
        <input type="text" name="nombre_busqueda" placeholder="Nombre" class="form-control" autofocus>
        <a href="/buscarpaciente" class="btn btn-info" style="margin-top: 10px;">Buscar</a>
      </div>
    </form>
    <div class="container mt-5">
        <div class="row">
          <div class="col-md-7">
            <table class="table table-bordered table-hover">
              <thead>
                <tr>
                  <td>id</td>
                  <td>Nombre</td>
                  <td>Edad</td>
                  <td>Fecha de ingreso</td>
                  <td>Fecha de salida</td>
                  <td>Familiar acargo</td>
                  <td>Telafono de Familiar</td>

                  <td>Aciones</td>
                </tr>
              </thead>
              <tbody>
                <% if (data) { %>
                  <% for(var i = 0; i < data.length; i++) { %>
                    <tr>
                      <td><%= (i + 1) %></td>
                      <td><%= data[i].nombre_paciente %></td>
                      <td><%= data[i].edad %></td>
                      <td><%= data[i].fecha_de_ingreso === null ? '' : data[i].fecha_de_ingreso.toISOString().split('T')[0] %></td>
                      <td><%= data[i].fecha_de_salida === null ? '' : data[i].fecha_de_salida.toISOString().split('T')[0] %></td>
                      <td><%= data[i].familiar_acargo %></td>
                      <td><%= data[i].telefono_familiar %></td>
                      <td>
                        <a href="/update/paciente/<%= data[i].id_paciente %>" class="btn btn-info">Editar</a>
                        <a href="/delete/paciente/<%= data[i].id_paciente %>" class="btn btn-danger">Borrar</a>
                      </td>
                    </tr>
                  <% } %>
                <% } %>
              </tbody>
            </table>
          </div>
          <div class="col-md-5"style="left: 200px;">
            <div class="card-body">
      
              <form action="/add/paciente" method="POST">
                <div class="form-group">
                  <input type="text" name="nombre_paciente" placeholder="Nombre" class="form-control" autofocus>
                </div>
                <div class="form-group">
                  <input type="text" name="edad" placeholder="Edad" class="form-control">
                </div>
                <div class="form-group">
                  <input type="text" name="fecha_de_ingreso" placeholder="Fecha de Ingreso" onfocus="(this.type='date')" onblur="(this.type='text')" class="form-control">
                </div>
                <div class="form-group">
                  <input type="text" name="fecha_de_salida" placeholder="Fecha de Salida"  onfocus="(this.type='date')" onblur="(this.type='text')" class="form-control">
                </div>
                <div class="form-group">
                  <input type="text" name="familiar_acargo" placeholder="Familiar acargo" class="form-control">
                </div>
                <div class="form-group">
                  <input type="text" name="telefono_familiar" placeholder="Telefono" class="form-control">
                </div>
      
                <button type="submit" class="btn btn-primary">
                  Guardar Paciente
                </button>
              </form>
            </div>
          </div>
        </div>
      </div>

      <script src="js/home.js"></script>
</body>
</html>